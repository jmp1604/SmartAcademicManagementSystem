<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Submission Files â€” CCS Faculty Requirement System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Source+Sans+3:wght@400;500;600&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="../../shared/global.css"/>
    <link rel="stylesheet" href="../resc/css/faculty-specific.css"/>
    <link rel="stylesheet" href="../resc/css/dean-submissions.css"/>
</head>
<body>

<div id="header-container"></div>

<div id="sidebar-container"></div>

<main class="main-content">
    <div id="categoriesView">
        <div class="page-header anim anim-1">
            <h1>Submission Files</h1>
            <p>Browse and manage faculty submissions organized by requirement type</p>
        </div>

        <div class="stat-cards">
            <div class="stat-card green anim anim-1">
                <div class="stat-label">Total Files</div>
                <div class="stat-value" id="totalFilesCount">212</div>
            </div>
            <div class="stat-card blue anim anim-2">
                <div class="stat-label">Approved</div>
                <div class="stat-value" style="color: #059669;" id="approvedCount">189</div>
            </div>
            <div class="stat-card orange anim anim-3">
                <div class="stat-label">Pending Review</div>
                <div class="stat-value" id="pendingCount">23</div>
            </div>
            <div class="stat-card purple anim anim-4">
                <div class="stat-label">Categories</div>
                <div class="stat-value" style="color: #2563eb;" id="categoriesCount">6</div>
            </div>
        </div>

        <div class="search-section anim anim-2">
            <div class="search-box-large">
                <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
                <input type="text" id="categorySearchInput" placeholder="Search requirement categories...">
            </div>
        </div>

        <div class="categories-grid anim anim-3" id="categoriesGrid">
            <!-- Categories will be loaded dynamically -->
        </div>
    </div>

    <div id="filesView" style="display: none;">
        <div class="page-header anim anim-1">
            <button class="btn-back" id="backToCategoriesBtn">
                <svg viewBox="0 0 24 24"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>
                Back to Categories
            </button>
            <div style="margin-top: 1rem;">
                <h1 id="categoryTitle">Syllabus</h1>
                <p id="categoryDescription">Course syllabi and curriculum outlines</p>
            </div>
        </div>

        <div class="stat-cards" style="margin-bottom: 1.5rem;">
            <div class="stat-card green anim anim-1">
                <div class="stat-label">Total Files</div>
                <div class="stat-value" id="catTotalFiles">0</div>
            </div>
            <div class="stat-card blue anim anim-2">
                <div class="stat-label">Approved</div>
                <div class="stat-value" style="color: #059669;" id="catApprovedFiles">0</div>
            </div>
            <div class="stat-card orange anim anim-3">
                <div class="stat-label">Pending</div>
                <div class="stat-value" id="catPendingFiles">0</div>
            </div>
        </div>

        <div class="panel anim anim-2">
            <div class="toolbar" style="margin-bottom: 1rem;">
                <div class="toolbar-right" style="width: 100%; justify-content: flex-end;">
                    <select class="filter-select" id="fileStatusFilter">
                        <option value="">All Status</option>
                        <option value="pending">Pending</option>
                        <option value="approved">Approved</option>
                        <option value="rejected">Rejected</option>
                    </select>
                    <select class="filter-select" id="fileDepartmentFilter">
                        <option value="">All Departments</option>
                        <option value="CS">Computer Science</option>
                        <option value="IT">Information Technology</option>
                        <option value="IS">Information Systems</option>
                        <option value="ACT">Associate in Computer Technology</option>
                    </select>
                </div>
            </div>

            <div class="files-grid" id="filesGrid">
                <!-- Files will be loaded dynamically -->
            </div>
        </div>
    </div>

</main>

<div class="modal fade" id="fileReviewModal" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Review Submission</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="file-preview-section">
                    <div class="file-icon-large" id="modalFileIcon">
                        <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                    </div>
                    <h4 id="modalFileName">filename.pdf</h4>
                    <p id="modalFileCategory" style="color: var(--text-muted); font-size: .9rem;"></p>
                </div>

                <div class="file-details-section">
                    <div class="detail-row">
                        <span class="detail-label">Uploaded by:</span>
                        <span class="detail-value" id="modalUploader"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Department:</span>
                        <span class="detail-value" id="modalDepartment"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Date:</span>
                        <span class="detail-value" id="modalDate"></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Size:</span>
                        <span class="detail-value" id="modalSize"></span>
                    </div>
                </div>

                <div class="review-comments-section">
                    <label for="reviewComments" class="form-label">Comments (Optional)</label>
                    <textarea class="form-control" id="reviewComments" rows="3" placeholder="Add comments or feedback..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" id="rejectFileBtn">
                    <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>
                    Reject
                </button>
                <button type="button" class="btn btn-success" id="approveFileBtn">
                    <svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>
                    Approve
                </button>
            </div>
        </div>
    </div>
</div>

<button class="help-btn" title="Help & Documentation">?</button>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="../../config/.env.js"></script>
<script src="../../config/config.js"></script>
<script src="../../shared/global.js"></script>
<script src="includes/sidebar.js"></script>
<script src="../resc/js/faculty-specific.js"></script>
<script src="../resc/js/dean-submissions.js"></script>
<script>
loadHeader();
loadSidebar('dean-submissions');
</script>
</body>
</html>
